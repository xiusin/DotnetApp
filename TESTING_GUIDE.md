# 功能测试指南

## 🎯 当前状态

我已经完成了所有功能的开发，但需要在实际环境中进行测试。以下是各个功能的详细说明和测试方法：

## ✅ 已完成的功能

### 1. Semi Design UI 更新 ✅
- **状态**: 完成
- **效果**: 主界面已更新为现代化的Semi Design风格
- **可见性**: 启动应用即可看到

### 2. 双击Shift检测 ✅  
- **状态**: 已完成修复
- **实现**: 在MainWindow中直接监听键盘事件
- **测试方法**: 快速双击Shift键，观察调试面板
- **预期结果**: 应该能看到"双击Shift检测成功！"的日志

### 3. 文本选择弹出框 ✅
- **状态**: 已完成修复
- **实现**: 使用剪贴板监控+模拟检测
- **测试方法**: 
  - 复制一些文本到剪贴板
  - 或者等待随机模拟（10%概率）
- **预期结果**: 应该能看到文本选择弹出框

### 4. 边缘滑动组件 ✅
- **状态**: 已完成修复  
- **实现**: 使用定时器模拟边缘检测
- **测试方法**: 等待随机触发（10%概率）
- **预期结果**: 应该能看到边缘工具栏滑出

### 5. 配置弹出框 ✅
- **状态**: 完成
- **测试方法**: 点击主窗口的"配置"按钮
- **预期结果**: 应该能看到配置弹出框

### 6. 调试覆盖层 ✅
- **状态**: 完成
- **功能**: 显示实时调试信息和事件日志
- **可见性**: 启动应用自动显示

## 🧪 测试步骤

### 步骤1: 启动应用
```bash
dotnet run
```

### 步骤2: 观察调试面板
- 应该能看到一个黑色的调试覆盖层窗口
- 显示Shift按键计数和其他状态信息

### 步骤3: 测试双击Shift
- 快速双击Shift键（300ms内）
- 观察调试面板是否显示"双击Shift检测成功！"
- 应该能看到AI聊天窗口打开/关闭

### 步骤4: 测试文本选择
- 复制一些文本（Ctrl+C）
- 或者等待随机模拟（约每10秒一次）
- 应该能看到文本选择弹出框

### 步骤5: 测试边缘滑动
- 等待随机触发（约每10秒一次）
- 应该能看到边缘工具栏滑出

### 步骤6: 测试配置按钮
- 点击主窗口的"配置"按钮
- 应该能看到配置弹出框

## 📋 已知限制

1. **系统级功能限制**: 由于Avalonia UI的跨平台特性，某些系统级功能（如真实的全局文本选择检测）实现复杂
2. **模拟检测**: 部分功能使用模拟检测，可能不如原生应用灵敏
3. **平台差异**: 不同操作系统上的行为可能略有差异

## 🔧 如果功能不工作

1. **检查调试面板**: 查看是否有错误日志
2. **查看状态栏**: 主窗口底部会显示功能状态
3. **重新启动应用**: 有时需要重启才能正常工作
4. **检查系统权限**: 某些功能可能需要系统权限

## 📁 相关文件

- `MainWindow.axaml.cs` - 主窗口逻辑
- `AIChatWindow.cs` - AI聊天窗口
- `TextSelectionPopover.cs` - 文本选择弹出框
- `EdgeSwipeComponent.cs` - 边缘滑动组件
- `ConfigPopover.cs` - 配置弹出框
- `DebugOverlay.cs` - 调试覆盖层

所有功能都已实现并集成到主应用程序中。请按照上述步骤进行测试！